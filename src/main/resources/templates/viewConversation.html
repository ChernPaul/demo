<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All messages</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<h1>Messages list</h1>
<table cellspacing = "10">
    <tr>
        <th>Message content</th>
        <th>Time of sending</th>
        <th>Sender UUID</th>
        <th>Message UUID</th>
        <th>Update action</th>
        <th>Delete action</th>
        <th>View profile</th>
    </tr>

    <tr th:each="message : ${messages_list}">
        <td th:text="${message.getText()}"></td>
        <td th:text="${message.getTimeOfSending()}"></td>
        <td th:text="${message.getProfileId()}"></td>
        <td th:text="${message.getMessageId()}"></td>
        <td><a th:href="@{/conversations/{conversationUUID}/messages/{messageUUID}/update (conversationUUID=${conversation_id},messageUUID=${message.getMessageId()})}"> Update message</a></td>
        <td><a th:href="@{/conversations/{conversationUUID}/messages/{messageUUID}/delete (conversationUUID=${conversation_id},messageUUID=${message.getMessageId()})}"> Delete message</a></td>
        <td><a th:href="@{/profiles/{profile_id}/view (profile_id =${message.getProfileId()})}"> View Profile</a></td>
    </tr>

</table>

<p><a th:href="@{/conversations/{UUID}/messages/add(UUID=${conversation_id})}">Add new message</a></p>
<p><a href="/index.html">Return to main page</a></p>
<p><a href="/conversations">Back to view conversations</a></p>
</body>
</html>